clc;
clear all;
close all;

disp('Convolution code');

d = input('Enter the data vector (e.g. [1 0 1 1 0]): ');
n = length(d);

m = 0;
m1 = 0;
m2 = 0;

v1 = zeros(1, n);
v2 = zeros(1, n);
v = '';

disp('The output sequence is:');

for i = 1:n
    m2 = m1;
    m1 = m;
    m = d(i);
    
    v1(i) = rem(m + m1 + m2, 2);
    v2(i) = rem(m + m2, 2);
    
    % Concatenate output bits as string
    v = [v, num2str(v1(i)), num2str(v2(i)), ' '];
end

disp(v);
